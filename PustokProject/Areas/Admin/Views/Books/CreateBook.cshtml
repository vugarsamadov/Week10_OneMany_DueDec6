@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper MVCWebAppExample.TagHelpers.*, MVCWebAppExample
@using PustokProject.CoreModels
@using PustokProject.ViewModels.Books;
@model VM_CreateBook


<form class="flex card-body align-items-center" method="post" enctype="multipart/form-data" asp-action="CreateBook">

    <div asp-validation-summary="All" class="text-danger"></div>
    <div class="form-group">
        <label asp-for="Name" class="form-label">Name</label>
        <input type="text" class="form-control" asp-for="Name">
        <span asp-validation-for="Name" class="text-danger"></span>
    </div>

    <div class="form-group">
        <span asp-validation-for="Description" class="text-danger"></span>
        <label asp-for="Description" class="form-label">Description</label>
        <input type="text" class="form-control" asp-for="Description">
    </div>

    <div class="form-group">
        <span asp-validation-for="DiscountPercentage" class="text-danger"></span>
        <label asp-for="DiscountPercentage" class="form-label">DiscountPercentage</label>
        <input type="text" class="form-control" asp-for="DiscountPercentage">
    </div>
    
    <div class="form-group">
        <span asp-validation-for="Price" class="text-danger"></span>
        <label asp-for="Price" class="form-label">Pricet</label>
        <input type="text" class="form-control" asp-for="Price">
    </div>
    @* 
    <div class="form-group">
        <span asp-validation-for="CoverImageUrl" class="text-danger"></span>
        <label asp-for="CoverImageUrl" class="form-label">CoverImageUrlUrl</label>
        <input type="text" class="form-control" asp-for="CoverImageUrl">
    </div> *@
    
    <div class="form-group">
        <span asp-validation-for="ProductCode" class="text-danger"></span>
        <label asp-for="ProductCode" class="form-label">ProductCode</label>
        <input type="text" class="form-control" asp-for="ProductCode">
    </div>
    
    
    <div class="form-group">
            <span asp-validation-for="Authors" class="text-danger"></span>
            <label asp-for="ProductCode" class="form-label">Authors</label>
        <select class="form-control" asp-for="AuthorIds" asp-items="Model.Authors" >
            <option disabled selected> Select Author</option>
        </select>
        </div>
    
    
    

    <div class="form-group">
        @* <div class="radio-container p-5"> *@
        @* *@
        @*     <div class="form-check"> *@
        @*         <input id="sd" asp-for="IsAvailable" value="true" class="form-check-input" type="radio" name="flexRadioDefault"> *@
        @*         <label asp-for="IsAvailable" class="form-check-label"> *@
        @*             Available *@
        @*         </label> *@
        @*     </div> *@
        @*     <div class="form-check"> *@
        @*         <input id="s" asp-for="IsAvailable" value="false" class="form-check-input" type="radio" name="flexRadioDefault"> *@
        @*         <label class="form-check-label" asp-for="IsAvailable"> *@
        @*             Not Available *@
        @*         </label> *@
        @*     </div> *@
        @*     <span asp-validation-for="IsAvailable" class="text-danger"></span> *@
        @* </div> *@
    </div>

    

    <label asp-for="CategoryId">Category</label>
    <select class="form-control"  asp-for="CategoryId" asp-items="ViewBag.Categories"></select>

    <label asp-for="ImageFileCover">Cover Image</label>
    <input id="uploadimage1" asp-for="ImageFileCover" type="file" accept="image/*"   />
    <img id="img1" width="300" height="300" src="https://subscription.tawseel.com/images/publications/NOT_AVAILABLE.png" />

    
    <label asp-for="ImageFileBack">Back Image</label>
    <input id="uploadimage2" asp-for="ImageFileBack" type="file" accept="image/*"   />
    <img id="img2" width="300" height="300" src="https://subscription.tawseel.com/images/publications/NOT_AVAILABLE.png" />

    
    <button type="submit" class="btn btn-warning">Submit</button>
</form>
    <script>
        var btnFile1 = document.getElementById("uploadimage1");
        var image1 = document.getElementById("img1");

        btnFile1.onchange = evt => {
            const [file] = btnFile1.files
            if (file) {
                image1.src = URL.createObjectURL(file)
            }
        }
        
        var btnFile2 = document.getElementById("uploadimage2");
        var image2 = document.getElementById("img2");
        
                btnFile2.onchange = evt => {
                    const [file] = btnFile2.files
                    if (file) {
                        image2.src = URL.createObjectURL(file)
                    }
                }
        
        
    </script>
